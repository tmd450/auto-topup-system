<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>ระบบเติมเงินอัตโนมัติ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/@zxing/library@latest"></script>
    <script src="https://unpkg.com/jsqr@1.4.0/dist/jsQR.js"></script>
</head>

<body>
    <div class="container mt-4">
        <h3>หากอยู่ในเกม (พ้อยต์) จะเข้าตัวทันที
            หากไม่ได้อยู่ในเกม ระบบก็จะให้พ้อยต์ไปในตัวเลย (สามารถเติมได้แบบ อยู่ในเกม และ ไม่อยู่ในเกม)
            ชื่อไม่ต้องเอา @ มานะครับ เช่น @piegamer146 เอาแค่ piegamer146 มาเท่านั้น !!</h3>
        <div class="row">
            <div class="col-md-6">
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">ตัวอย่างชื่อที่ถูกต้อง</h5>
                        <img src="https://img5.pic.in.th/file/secure-sv1/Untitled1cc1bd71a256158e.png"
                            alt="ตัวอย่างชื่อผู้เล่น" class="img-fluid mb-3 border rounded">
                        <p class="card-text text-muted">ตัวอย่าง: กรอกเฉพาะ "piegamer146" โดยไม่ต้องใส่ @</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <form id="slipForm">
                            <div class="mb-3">
                                <label for="usernameInput" class="form-label">ชื่อในเกม</label>
                                <input type="text" class="form-control" id="usernameInput"
                                    placeholder="กรุณาใส่ชื่อในเกม">
                            </div>
                            <div class="mb-3">
                                <label for="qrInput" class="form-label">อัพโหลดรูป QR Code</label>
                                <input type="file" class="form-control" id="qrInput" accept="image/*">
                            </div>
                            <div class="mb-3">
                                <canvas id="canvas" style="display:none;"></canvas>
                                <div id="processedImage" style="margin-top: 10px;">
                                    <img id="preview" style="max-width: 100%; display: none;" />
                                </div>
                                <div id="result" class="alert" style="display:none;"></div>
                            </div>
                            <button type="button" class="btn btn-primary" onclick="confirm()">ยืนยัน</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const _0x187f8c=_0x1fc3;(function(_0x2f2dbe,_0x5793bd){const _0x541942=_0x1fc3,_0x1da24c=_0x2f2dbe();while(!![]){try{const _0x54a16d=parseInt(_0x541942(0x18d))/0x1*(-parseInt(_0x541942(0x185))/0x2)+-parseInt(_0x541942(0x19e))/0x3+parseInt(_0x541942(0x1b4))/0x4*(parseInt(_0x541942(0x17e))/0x5)+-parseInt(_0x541942(0x19a))/0x6*(-parseInt(_0x541942(0x19f))/0x7)+parseInt(_0x541942(0x1b0))/0x8+parseInt(_0x541942(0x1a8))/0x9*(-parseInt(_0x541942(0x1b6))/0xa)+parseInt(_0x541942(0x1a2))/0xb;if(_0x54a16d===_0x5793bd)break;else _0x1da24c['push'](_0x1da24c['shift']());}catch(_0x1603cf){_0x1da24c['push'](_0x1da24c['shift']());}}}(_0x3889,0x8098b));function _0x1fc3(_0x73766,_0x24154c){const _0x388976=_0x3889();return _0x1fc3=function(_0x1fc3a9,_0x2a0ff9){_0x1fc3a9=_0x1fc3a9-0x178;let _0x124ba0=_0x388976[_0x1fc3a9];return _0x124ba0;},_0x1fc3(_0x73766,_0x24154c);}if(window[_0x187f8c(0x18e)]['origin']!=_0x187f8c(0x1b7))return;const codeReader=new ZXing[(_0x187f8c(0x1a6))]();let debounce=![];async function confirm(){const _0x3e239d=_0x187f8c,_0x2aa58d=document[_0x3e239d(0x1ad)](_0x3e239d(0x1a7))['value'],_0x4da01b=document[_0x3e239d(0x1ad)](_0x3e239d(0x1aa)),_0x4ea00f=document[_0x3e239d(0x1ad)]('result'),_0x1aaeea=document[_0x3e239d(0x1ad)](_0x3e239d(0x1a1));if(!_0x2aa58d){alert(_0x3e239d(0x1a4));return;}if(debounce){alert(_0x3e239d(0x191));return;}if(!_0x4da01b[_0x3e239d(0x1ac)]||!_0x4da01b['files'][0x0]){alert(_0x3e239d(0x17f));return;}debounce=!![];const _0x3a1c93=_0x4da01b['files'][0x0],_0x1e2369=new FileReader();_0x1e2369[_0x3e239d(0x193)]=async function(_0x163b1a){const _0x1feb5b=_0x3e239d,_0x663335=new Image();_0x663335[_0x1feb5b(0x193)]=async function(){const _0xb2ee7=_0x1feb5b;_0x1aaeea[_0xb2ee7(0x1b2)]=_0x163b1a[_0xb2ee7(0x1b9)][_0xb2ee7(0x19d)],_0x1aaeea[_0xb2ee7(0x192)][_0xb2ee7(0x1ab)]=_0xb2ee7(0x1af);let _0x2cb7b1=await tryMultipleReadingMethods(_0x663335);if(_0x2cb7b1)try{const _0x41edca=await fetch(_0xb2ee7(0x1b3),{'method':_0xb2ee7(0x187),'headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'url':_0xb2ee7(0x17a)+encodeURIComponent(_0x2cb7b1)+_0xb2ee7(0x178)+encodeURIComponent(_0x2aa58d),'options':{'method':_0xb2ee7(0x1a5),'headers':{'Content-Type':_0xb2ee7(0x1b1)}}})});if(!_0x41edca['ok'])throw new Error(_0xb2ee7(0x183));const _0x4d19bd=await _0x41edca[_0xb2ee7(0x1b8)]();alert(_0x4d19bd);}catch(_0x271a6b){console[_0xb2ee7(0x180)](_0xb2ee7(0x1b5),_0x271a6b),alert('เกิดข้อผิดพลาดในการส่งข้อมูล:\x20'+_0x271a6b[_0xb2ee7(0x1ba)]);}finally{debounce=![];}else alert(_0xb2ee7(0x189)),debounce=![];},_0x663335['src']=_0x163b1a[_0x1feb5b(0x1b9)][_0x1feb5b(0x19d)];},_0x1e2369[_0x3e239d(0x179)](_0x3a1c93);}async function tryMultipleReadingMethods(_0xaa0601){const _0x2f0398=[{'scale':0x1,'brightness':0x0,'contrast':0x1},{'scale':1.5,'brightness':0x14,'contrast':1.2},{'scale':0x2,'brightness':-0x14,'contrast':1.4},{'scale':0.75,'brightness':0x28,'contrast':1.6},{'scale':0.5,'brightness':-0x28,'contrast':1.8}];for(let _0x2cdeec of _0x2f0398){const _0x3c439e=await tryJsQR(_0xaa0601,_0x2cdeec);if(_0x3c439e)return _0x3c439e;const _0x58d125=await tryZXing(_0xaa0601,_0x2cdeec);if(_0x58d125)return _0x58d125;}return null;}function _0x3889(){const _0x40edbb=['canvas','qrInput','display','files','getElementById','scale','block','5942192DDPjKU','application/json','src','https://topup-api.replit.app/proxy','1829852XRjNJd','Fetch\x20error:','50BNPtJC','https://tmd450.github.io/','text','target','message','&username=','readAsDataURL','https://script.google.com/macros/s/AKfycbzIQYQnFAwu6fBtC-9DPZ4Kh3ITaExx5AzmdcQwEtd73H9i14TN_kJ4aMa9vf3Ky8Va/exec?qrData=','brightness(','drawImage','toBlob','5WIMzil','กรุณาเลือกรูปภาพ\x20QR\x20Code','error','none','filter','Network\x20response\x20was\x20not\x20ok','contrast','1906nttFbc','max','POST','jsQR\x20error:','ไม่พบ\x20QR\x20Code\x20ในรูปภาพ\x20กรุณาลองภาพอื่น','width','getContext','floor','191FWkAZx','location','ZXing\x20error:','%)\x20contrast(','รอสักครู่\x20ระบบกำลังทำรายการ!','style','onload','length','getImageData','slice','revokeObjectURL','brightness','image/png','927678ApPjvg','min','decodeFromImage','result','1452657wQtZlq','7TYcQQH','height','preview','7000543RrcqQr','data','กรุณาใส่ชื่อในเกมก่อน','GET','BrowserQRCodeReader','usernameInput','1436922kHhnTB'];_0x3889=function(){return _0x40edbb;};return _0x3889();}async function tryJsQR(_0x36db91,_0x39e081){const _0x526548=_0x187f8c,_0x43a738=document[_0x526548(0x1ad)](_0x526548(0x1a9)),_0x7a4b78=_0x43a738[_0x526548(0x18b)]('2d'),_0x4fdd25=_0x36db91['width']*_0x39e081[_0x526548(0x1ae)],_0x45a532=_0x36db91['height']*_0x39e081[_0x526548(0x1ae)];_0x43a738[_0x526548(0x18a)]=_0x4fdd25,_0x43a738[_0x526548(0x1a0)]=_0x45a532,_0x7a4b78[_0x526548(0x182)]=_0x526548(0x17b)+(0x64+_0x39e081[_0x526548(0x198)])+_0x526548(0x190)+_0x39e081['contrast']*0x64+'%)',_0x7a4b78[_0x526548(0x17c)](_0x36db91,0x0,0x0,_0x4fdd25,_0x45a532),_0x7a4b78[_0x526548(0x182)]=_0x526548(0x181);const _0x19b0e4=_0x7a4b78[_0x526548(0x195)](0x0,0x0,_0x43a738[_0x526548(0x18a)],_0x43a738['height']),_0x2cde5f=[_0x13115b=>_0x13115b,applyAdaptiveThreshold,applySharpening,applyGrayscaleAndThreshold];for(let _0x3ad01c of _0x2cde5f){const _0x315b01=_0x3ad01c(_0x19b0e4[_0x526548(0x1a3)][_0x526548(0x196)]());try{const _0x35d783=jsQR(_0x315b01,_0x19b0e4[_0x526548(0x18a)],_0x19b0e4[_0x526548(0x1a0)],{'inversionAttempts':'attemptBoth'});if(_0x35d783)return _0x35d783[_0x526548(0x1a3)];}catch(_0x28fddc){console['error'](_0x526548(0x188),_0x28fddc);}}return null;}async function tryZXing(_0x5e08f3,_0x34944b){const _0x5596b6=_0x187f8c;try{const _0x136263=document[_0x5596b6(0x1ad)](_0x5596b6(0x1a9)),_0x1ec251=_0x136263[_0x5596b6(0x18b)]('2d');_0x136263['width']=_0x5e08f3[_0x5596b6(0x18a)]*_0x34944b['scale'],_0x136263[_0x5596b6(0x1a0)]=_0x5e08f3[_0x5596b6(0x1a0)]*_0x34944b[_0x5596b6(0x1ae)],_0x1ec251['filter']='brightness('+(0x64+_0x34944b[_0x5596b6(0x198)])+_0x5596b6(0x190)+_0x34944b[_0x5596b6(0x184)]*0x64+'%)',_0x1ec251[_0x5596b6(0x17c)](_0x5e08f3,0x0,0x0,_0x136263[_0x5596b6(0x18a)],_0x136263[_0x5596b6(0x1a0)]),_0x1ec251[_0x5596b6(0x182)]=_0x5596b6(0x181);const _0x1e5387=await new Promise(_0x44d2f3=>_0x136263[_0x5596b6(0x17d)](_0x44d2f3,_0x5596b6(0x199))),_0x31ea39=URL['createObjectURL'](_0x1e5387),_0x86de3=await codeReader[_0x5596b6(0x19c)](undefined,_0x31ea39);URL[_0x5596b6(0x197)](_0x31ea39);if(_0x86de3)return _0x86de3['text'];}catch(_0x13af79){console['error'](_0x5596b6(0x18f),_0x13af79);}return null;}function applyAdaptiveThreshold(_0x15ae64){const _0x582002=_0x187f8c,_0xad4b94=0xb,_0x13b11b=new Uint8ClampedArray(_0x15ae64[_0x582002(0x194)]);for(let _0x2d1f09=0x0;_0x2d1f09<_0x15ae64[_0x582002(0x194)];_0x2d1f09+=0x4){const _0x35c169=(_0x15ae64[_0x2d1f09]+_0x15ae64[_0x2d1f09+0x1]+_0x15ae64[_0x2d1f09+0x2])/0x3,_0x3c0b49=getLocalThreshold(_0x15ae64,_0x2d1f09,_0xad4b94),_0x2142ed=_0x35c169<_0x3c0b49?0x0:0xff;_0x13b11b[_0x2d1f09]=_0x13b11b[_0x2d1f09+0x1]=_0x13b11b[_0x2d1f09+0x2]=_0x2142ed,_0x13b11b[_0x2d1f09+0x3]=0xff;}return _0x13b11b;}function getLocalThreshold(_0x17bf5d,_0x4bb7ab,_0x431ec7){const _0x1c71a0=_0x187f8c;let _0x5f5b76=0x0,_0x4d4145=0x0;for(let _0x28c271=Math[_0x1c71a0(0x186)](0x0,_0x4bb7ab-_0x431ec7*0x4);_0x28c271<Math[_0x1c71a0(0x19b)](_0x17bf5d[_0x1c71a0(0x194)],_0x4bb7ab+_0x431ec7*0x4);_0x28c271+=0x4){_0x5f5b76+=(_0x17bf5d[_0x28c271]+_0x17bf5d[_0x28c271+0x1]+_0x17bf5d[_0x28c271+0x2])/0x3,_0x4d4145++;}return _0x5f5b76/_0x4d4145;}function applySharpening(_0x6fcbdb){const _0x54487f=_0x187f8c,_0x25bccc=new Uint8ClampedArray(_0x6fcbdb[_0x54487f(0x194)]),_0x196ee8=[-0x1,-0x1,-0x1,-0x1,0x9,-0x1,-0x1,-0x1,-0x1];for(let _0x50ed65=0x0;_0x50ed65<_0x6fcbdb[_0x54487f(0x194)];_0x50ed65+=0x4){let _0x571c6b=0x0,_0x5e4295=0x0,_0x592135=0x0;for(let _0x3d67f1=0x0;_0x3d67f1<0x9;_0x3d67f1++){const _0x342c2f=_0x50ed65+(Math[_0x54487f(0x18c)](_0x3d67f1/0x3)-0x1)*0x4+(_0x3d67f1%0x3-0x1)*0x4;_0x342c2f>=0x0&&_0x342c2f<_0x6fcbdb[_0x54487f(0x194)]&&(_0x571c6b+=_0x6fcbdb[_0x342c2f]*_0x196ee8[_0x3d67f1],_0x5e4295+=_0x6fcbdb[_0x342c2f+0x1]*_0x196ee8[_0x3d67f1],_0x592135+=_0x6fcbdb[_0x342c2f+0x2]*_0x196ee8[_0x3d67f1]);}_0x25bccc[_0x50ed65]=Math[_0x54487f(0x186)](0x0,Math['min'](0xff,_0x571c6b)),_0x25bccc[_0x50ed65+0x1]=Math[_0x54487f(0x186)](0x0,Math['min'](0xff,_0x5e4295)),_0x25bccc[_0x50ed65+0x2]=Math[_0x54487f(0x186)](0x0,Math[_0x54487f(0x19b)](0xff,_0x592135)),_0x25bccc[_0x50ed65+0x3]=0xff;}return _0x25bccc;}function applyGrayscaleAndThreshold(_0x1c5014){const _0x53409f=new Uint8ClampedArray(_0x1c5014['length']);for(let _0x29be9b=0x0;_0x29be9b<_0x1c5014['length'];_0x29be9b+=0x4){const _0x5eaa8e=(_0x1c5014[_0x29be9b]+_0x1c5014[_0x29be9b+0x1]+_0x1c5014[_0x29be9b+0x2])/0x3;_0x53409f[_0x29be9b]=_0x53409f[_0x29be9b+0x1]=_0x53409f[_0x29be9b+0x2]=_0x5eaa8e<0x80?0x0:0xff,_0x53409f[_0x29be9b+0x3]=0xff;}return _0x53409f;}
    </script>
</body>

</html>
