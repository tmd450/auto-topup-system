<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>ระบบเติมเงินอัตโนมัติ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/@zxing/library@latest"></script>
    <script src="https://unpkg.com/jsqr@1.4.0/dist/jsQR.js"></script>
</head>

<body>
    <div class="container mt-4">
        <h3>หากอยู่ในเกม (พ้อยต์) จะเข้าตัวทันที
            หากไม่ได้อยู่ในเกม ระบบก็จะให้พ้อยต์ไปในตัวเลย (สามารถเติมได้แบบ อยู่ในเกม และ ไม่อยู่ในเกม)
            ชื่อไม่ต้องเอา @ มานะครับ เช่น @piegamer146 เอาแค่ piegamer146 มาเท่านั้น !!</h3>
        <div class="row">
            <div class="col-md-6">
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">ตัวอย่างชื่อที่ถูกต้อง</h5>
                        <img src="https://img5.pic.in.th/file/secure-sv1/Untitled1cc1bd71a256158e.png"
                            alt="ตัวอย่างชื่อผู้เล่น" class="img-fluid mb-3 border rounded">
                        <p class="card-text text-muted">ตัวอย่าง: กรอกเฉพาะ "piegamer146" โดยไม่ต้องใส่ @</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <form id="slipForm">
                            <div class="mb-3">
                                <label for="usernameInput" class="form-label">ชื่อในเกม</label>
                                <input type="text" class="form-control" id="usernameInput"
                                    placeholder="กรุณาใส่ชื่อในเกม">
                            </div>
                            <div class="mb-3">
                                <label for="qrInput" class="form-label">อัพโหลดรูป QR Code</label>
                                <input type="file" class="form-control" id="qrInput" accept="image/*">
                            </div>
                            <div class="mb-3">
                                <canvas id="canvas" style="display:none;"></canvas>
                                <div id="processedImage" style="margin-top: 10px;">
                                    <img id="preview" style="max-width: 100%; display: none;" />
                                </div>
                                <div id="result" class="alert" style="display:none;"></div>
                            </div>
                            <button type="button" class="btn btn-primary" onclick="confirm()">ยืนยัน</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const _0xfa592d=_0x58be;(function(_0x29b45b,_0x41e489){const _0x563a1d=_0x58be,_0x151ab2=_0x29b45b();while(!![]){try{const _0x4db05b=parseInt(_0x563a1d(0x1fd))/0x1*(-parseInt(_0x563a1d(0x1e5))/0x2)+parseInt(_0x563a1d(0x1f4))/0x3+parseInt(_0x563a1d(0x1e7))/0x4+-parseInt(_0x563a1d(0x1de))/0x5+parseInt(_0x563a1d(0x1e9))/0x6+-parseInt(_0x563a1d(0x1f9))/0x7+parseInt(_0x563a1d(0x1fa))/0x8;if(_0x4db05b===_0x41e489)break;else _0x151ab2['push'](_0x151ab2['shift']());}catch(_0xac4ff0){_0x151ab2['push'](_0x151ab2['shift']());}}}(_0x465e,0xea899));const codeReader=new ZXing[(_0xfa592d(0x1ea))]();let debounce=![];async function confirm(){const _0x362dd6=_0xfa592d,_0x15e02e=document[_0x362dd6(0x1f8)](_0x362dd6(0x1f0))[_0x362dd6(0x1d6)],_0x37a9c0=document[_0x362dd6(0x1f8)]('qrInput');if(!_0x15e02e){alert(_0x362dd6(0x1e8));return;}if(!_0x37a9c0[_0x362dd6(0x1f5)]||!_0x37a9c0[_0x362dd6(0x1f5)][0x0]){alert('กรุณาเลือกรูปภาพ\x20QR\x20Code');return;}const _0x205fdf=new FileReader();_0x205fdf[_0x362dd6(0x1f7)]=async function(_0xbaa113){const _0x7fd355=_0x362dd6,_0x5e7c71=_0xbaa113['target'][_0x7fd355(0x1db)][_0x7fd355(0x1e3)](',')[0x1],_0x297a02=await fetch(_0x7fd355(0x1eb),{'method':_0x7fd355(0x1d7),'headers':{'Content-Type':'application/json'},'body':JSON[_0x7fd355(0x1e1)]({'qrData':_0x7fd355(0x1d1),'username':_0x15e02e,'base64Image':_0x5e7c71})}),_0x4fa177=await _0x297a02[_0x7fd355(0x1da)]();alert(_0x4fa177);},_0x205fdf['readAsDataURL'](_0x37a9c0['files'][0x0]);}async function tryMultipleReadingMethods(_0x7d9878){const _0x83a63b=[{'scale':0x1,'brightness':0x0,'contrast':0x1},{'scale':1.5,'brightness':0x14,'contrast':1.2},{'scale':0x2,'brightness':-0x14,'contrast':1.4},{'scale':0.75,'brightness':0x28,'contrast':1.6},{'scale':0.5,'brightness':-0x28,'contrast':1.8}];for(let _0x2ac91f of _0x83a63b){const _0x40d302=await tryJsQR(_0x7d9878,_0x2ac91f);if(_0x40d302)return _0x40d302;const _0x89d554=await tryZXing(_0x7d9878,_0x2ac91f);if(_0x89d554)return _0x89d554;}return null;}function _0x58be(_0x2429d3,_0x26bde4){const _0x465eae=_0x465e();return _0x58be=function(_0x58be32,_0x6c6b0e){_0x58be32=_0x58be32-0x1d1;let _0x39a488=_0x465eae[_0x58be32];return _0x39a488;},_0x58be(_0x2429d3,_0x26bde4);}async function tryJsQR(_0x3b39e8,_0x5609c4){const _0x105137=_0xfa592d,_0x5819c0=document[_0x105137(0x1f8)](_0x105137(0x1d9)),_0x26ba62=_0x5819c0[_0x105137(0x1fc)]('2d'),_0x1928b7=_0x3b39e8[_0x105137(0x1ec)]*_0x5609c4[_0x105137(0x1d4)],_0x2b2594=_0x3b39e8[_0x105137(0x1f6)]*_0x5609c4[_0x105137(0x1d4)];_0x5819c0[_0x105137(0x1ec)]=_0x1928b7,_0x5819c0[_0x105137(0x1f6)]=_0x2b2594,_0x26ba62[_0x105137(0x1d8)]=_0x105137(0x1ee)+(0x64+_0x5609c4[_0x105137(0x1fb)])+_0x105137(0x1e4)+_0x5609c4[_0x105137(0x1f1)]*0x64+'%)',_0x26ba62[_0x105137(0x1d3)](_0x3b39e8,0x0,0x0,_0x1928b7,_0x2b2594),_0x26ba62[_0x105137(0x1d8)]=_0x105137(0x1dd);const _0x40a83e=_0x26ba62[_0x105137(0x1e2)](0x0,0x0,_0x5819c0[_0x105137(0x1ec)],_0x5819c0['height']),_0x4da0eb=[_0x8f12a1=>_0x8f12a1,applyAdaptiveThreshold,applySharpening,applyGrayscaleAndThreshold];for(let _0xe7caef of _0x4da0eb){const _0x42d96a=_0xe7caef(_0x40a83e[_0x105137(0x1d2)][_0x105137(0x1df)]());try{const _0x10d005=jsQR(_0x42d96a,_0x40a83e[_0x105137(0x1ec)],_0x40a83e[_0x105137(0x1f6)],{'inversionAttempts':'attemptBoth'});if(_0x10d005)return _0x10d005[_0x105137(0x1d2)];}catch(_0x3675be){console[_0x105137(0x1e0)]('jsQR\x20error:',_0x3675be);}}return null;}async function tryZXing(_0x2f37b6,_0x2fd9c8){const _0x18d287=_0xfa592d;try{const _0x188fae=document['getElementById'](_0x18d287(0x1d9)),_0x405eb3=_0x188fae['getContext']('2d');_0x188fae[_0x18d287(0x1ec)]=_0x2f37b6['width']*_0x2fd9c8['scale'],_0x188fae['height']=_0x2f37b6[_0x18d287(0x1f6)]*_0x2fd9c8[_0x18d287(0x1d4)],_0x405eb3[_0x18d287(0x1d8)]=_0x18d287(0x1ee)+(0x64+_0x2fd9c8[_0x18d287(0x1fb)])+_0x18d287(0x1e4)+_0x2fd9c8[_0x18d287(0x1f1)]*0x64+'%)',_0x405eb3[_0x18d287(0x1d3)](_0x2f37b6,0x0,0x0,_0x188fae[_0x18d287(0x1ec)],_0x188fae['height']),_0x405eb3[_0x18d287(0x1d8)]=_0x18d287(0x1dd);const _0x5baed5=await new Promise(_0x3e37c5=>_0x188fae['toBlob'](_0x3e37c5,_0x18d287(0x1d5))),_0x1ae939=URL[_0x18d287(0x1f2)](_0x5baed5),_0x190a8f=await codeReader[_0x18d287(0x1ff)](undefined,_0x1ae939);URL[_0x18d287(0x1dc)](_0x1ae939);if(_0x190a8f)return _0x190a8f[_0x18d287(0x1da)];}catch(_0x2950ca){console['error'](_0x18d287(0x1ed),_0x2950ca);}return null;}function _0x465e(){const _0x47d2a5=['brightness','getContext','1OPpGzT','min','decodeFromImage','your-qr-data','data','drawImage','scale','image/png','value','POST','filter','canvas','text','result','revokeObjectURL','none','8050915ufqhbj','slice','error','stringify','getImageData','split','%)\x20contrast(','2244794FkfAnD','max','1698944GjcilP','กรุณาใส่ชื่อในเกมก่อน','279282cmeCRm','BrowserQRCodeReader','https://script.google.com/macros/s/AKfycbwPOa6CNntMvdpMszS1wAGd54GSeMxBuF211jk4Xt8HC3b_mZS2qbmqJniXFm7RTuBI/exec','width','ZXing\x20error:','brightness(','length','usernameInput','contrast','createObjectURL','floor','564360mmuJlg','files','height','onload','getElementById','2839893UpbpLc','27516328TBXnxz'];_0x465e=function(){return _0x47d2a5;};return _0x465e();}function applyAdaptiveThreshold(_0x3b2f36){const _0x47bedb=_0xfa592d,_0x555768=0xb,_0x476eb6=new Uint8ClampedArray(_0x3b2f36['length']);for(let _0x4a9a8f=0x0;_0x4a9a8f<_0x3b2f36[_0x47bedb(0x1ef)];_0x4a9a8f+=0x4){const _0x564e3c=(_0x3b2f36[_0x4a9a8f]+_0x3b2f36[_0x4a9a8f+0x1]+_0x3b2f36[_0x4a9a8f+0x2])/0x3,_0x1f2fb6=getLocalThreshold(_0x3b2f36,_0x4a9a8f,_0x555768),_0x34cd8f=_0x564e3c<_0x1f2fb6?0x0:0xff;_0x476eb6[_0x4a9a8f]=_0x476eb6[_0x4a9a8f+0x1]=_0x476eb6[_0x4a9a8f+0x2]=_0x34cd8f,_0x476eb6[_0x4a9a8f+0x3]=0xff;}return _0x476eb6;}function getLocalThreshold(_0x1b12c3,_0x3959f2,_0x196844){const _0x2e2534=_0xfa592d;let _0x512f19=0x0,_0x497a42=0x0;for(let _0x3f3ccc=Math[_0x2e2534(0x1e6)](0x0,_0x3959f2-_0x196844*0x4);_0x3f3ccc<Math[_0x2e2534(0x1fe)](_0x1b12c3[_0x2e2534(0x1ef)],_0x3959f2+_0x196844*0x4);_0x3f3ccc+=0x4){_0x512f19+=(_0x1b12c3[_0x3f3ccc]+_0x1b12c3[_0x3f3ccc+0x1]+_0x1b12c3[_0x3f3ccc+0x2])/0x3,_0x497a42++;}return _0x512f19/_0x497a42;}function applySharpening(_0x16cbf4){const _0x1f7957=_0xfa592d,_0x1e0bb9=new Uint8ClampedArray(_0x16cbf4[_0x1f7957(0x1ef)]),_0xb26b3f=[-0x1,-0x1,-0x1,-0x1,0x9,-0x1,-0x1,-0x1,-0x1];for(let _0x3e2e44=0x0;_0x3e2e44<_0x16cbf4[_0x1f7957(0x1ef)];_0x3e2e44+=0x4){let _0x496f49=0x0,_0x343945=0x0,_0x50e93e=0x0;for(let _0x458633=0x0;_0x458633<0x9;_0x458633++){const _0x472628=_0x3e2e44+(Math[_0x1f7957(0x1f3)](_0x458633/0x3)-0x1)*0x4+(_0x458633%0x3-0x1)*0x4;_0x472628>=0x0&&_0x472628<_0x16cbf4[_0x1f7957(0x1ef)]&&(_0x496f49+=_0x16cbf4[_0x472628]*_0xb26b3f[_0x458633],_0x343945+=_0x16cbf4[_0x472628+0x1]*_0xb26b3f[_0x458633],_0x50e93e+=_0x16cbf4[_0x472628+0x2]*_0xb26b3f[_0x458633]);}_0x1e0bb9[_0x3e2e44]=Math[_0x1f7957(0x1e6)](0x0,Math[_0x1f7957(0x1fe)](0xff,_0x496f49)),_0x1e0bb9[_0x3e2e44+0x1]=Math[_0x1f7957(0x1e6)](0x0,Math[_0x1f7957(0x1fe)](0xff,_0x343945)),_0x1e0bb9[_0x3e2e44+0x2]=Math[_0x1f7957(0x1e6)](0x0,Math[_0x1f7957(0x1fe)](0xff,_0x50e93e)),_0x1e0bb9[_0x3e2e44+0x3]=0xff;}return _0x1e0bb9;}function applyGrayscaleAndThreshold(_0xeb246c){const _0x17a4ad=_0xfa592d,_0x160c22=new Uint8ClampedArray(_0xeb246c[_0x17a4ad(0x1ef)]);for(let _0xdbfee3=0x0;_0xdbfee3<_0xeb246c[_0x17a4ad(0x1ef)];_0xdbfee3+=0x4){const _0x46458a=(_0xeb246c[_0xdbfee3]+_0xeb246c[_0xdbfee3+0x1]+_0xeb246c[_0xdbfee3+0x2])/0x3;_0x160c22[_0xdbfee3]=_0x160c22[_0xdbfee3+0x1]=_0x160c22[_0xdbfee3+0x2]=_0x46458a<0x80?0x0:0xff,_0x160c22[_0xdbfee3+0x3]=0xff;}return _0x160c22;}
    </script>
</body>

</html>
